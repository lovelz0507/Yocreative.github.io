<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/Yocreative.github.io/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=Yocreative.github.io/livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">
  <meta property="og:site_name" content="悠创">
  <meta property="og:title" content="Linux驱动开发">
  <meta property="og:description" content="高级嵌入式Linux开发工程师，曾就职于世界五百强，目前就职于芯片原厂独角兽企业，有多年嵌入式Linux驱动、系统开发经验。荣获优质嵌入式领域创作者称号，拿下2022年度博客之星嵌入式领域TOP 5，全网收获超百万读者。公众号：【嵌入式艺术】">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">
<title>Linux驱动开发 | 悠创</title>
<link rel="manifest" href="/Yocreative.github.io/manifest.json">
<link rel="icon" href="/Yocreative.github.io/favicon.png" >
<link rel="stylesheet" href="/Yocreative.github.io/book.min.4ae964196dcc6279a3d1841429e333370db34743a39dd47a1618e36a7415ed3d.css" integrity="sha256-SulkGW3MYnmj0YQUKeMzNw2zR0OjndR6FhjjanQV7T0=" crossorigin="anonymous">
  <script defer src="/Yocreative.github.io/flexsearch.min.js"></script>
  <script defer src="/Yocreative.github.io/en.search.min.cb6a9fbdd65acbc8f8f7caae06304cb4ccde9409f2da6f01325d8e3e43e4dea8.js" integrity="sha256-y2qfvdZay8j498quBjBMtMzelAny2m8BMl2OPkPk3qg=" crossorigin="anonymous"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <meta name="referrer" content="no-referrer-when-downgrade"><link rel="alternate" type="application/rss+xml" href="http://localhost:1313/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/index.xml" title="悠创" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/Yocreative.github.io/"><img src="/Yocreative.github.io/img/logo.png" alt="Logo" /><span>悠创</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>







  
<ul>
  
  <li>
    <a href="https://blog.csdn.net/dong__ge"  target="_blank" rel="noopener">
        CSDN
      </a>
  </li>
  
  <li>
    <a href="https://www.zhihu.com/people/Embedded_Art"  target="_blank" rel="noopener">
        知乎
      </a>
  </li>
  
  <li>
    <a href="https://github.com/UNIONDONG"  target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
</ul>







  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>嵌入式</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-83397ec96fd1ea3917390521ed986f95" class="toggle"  />
    <label for="section-83397ec96fd1ea3917390521ed986f95" class="flex justify-between">
      <a role="button" class="">嵌入式工程师养成记</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/embeded_tech/self_improve/10w&#43;%E9%98%85%E8%AF%BB%E8%80%97%E6%97%B6%E4%B8%80%E5%91%A8%E6%80%BB%E7%BB%93%E7%9A%84%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF%E8%B6%85%E8%AF%A6%E7%BB%86/" class="">【10W&#43;阅读】耗时一周总结的嵌入式学习路线，超详细</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-12e8de9bec1a6a05dded471550b1fca1" class="toggle"  />
    <label for="section-12e8de9bec1a6a05dded471550b1fca1" class="flex justify-between">
      <a role="button" class="">嵌入式面经</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/embeded_tech/embeded_interview/soc%E7%9A%84bringup%E6%B5%81%E7%A8%8B/" class="">Soc的Bring Up流程</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/embeded_tech/embeded_interview/cpu%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/" class="">CPU体系架构</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/embeded_tech/embeded_interview/linux%E7%94%A8%E6%88%B7%E6%80%81%E5%92%8C%E5%86%85%E6%A0%B8%E6%80%81%E4%BA%A4%E4%BA%92%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/" class="">Linux用户态和内核态交互的几种方式</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Uboot开发</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/uboot/%E4%B8%80uboot%E5%9F%BA%E7%A1%80%E4%BA%86%E8%A7%A3/" class="">一、uboot基础了解</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/uboot/%E4%BA%8Cuboot%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/" class="">二、uboot启动流程分析</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/uboot/%E4%B8%89uboot%E9%A9%B1%E5%8A%A8%E6%A8%A1%E5%9E%8B/" class="">三、Uboot驱动模型</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/uboot/%E5%9B%9Buboot%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A8%A1%E5%BC%8F%E5%88%86%E6%9E%90/" class="">四、Uboot命令行模式分析</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Linux开发</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a1949511b91c821e0f36b6a0946f3316" class="toggle"  />
    <label for="section-a1949511b91c821e0f36b6a0946f3316" class="flex justify-between">
      <a role="button" class="">Linux 驱动开发基础</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_driver_develop_basic/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82linux%E5%AD%97%E7%AC%A6%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8/" class="">【一文秒懂】Linux字符设备驱动</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_driver_develop_basic/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82linux%E8%AE%BE%E5%A4%87%E6%A0%91%E8%AF%A6%E8%A7%A3/" class="">【一文秒懂】Linux设备树详解</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_driver_develop_basic/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82%E4%B8%BA%E4%BB%80%E4%B9%88linux%E5%86%85%E6%A0%B8%E4%B8%AD%E4%B8%8D%E7%BB%8F%E5%B8%B8%E4%BD%BF%E7%94%A8typedef/" class="">【一文秒懂】为什么Linux内核中不经常使用typedef</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-afd4803a46f291255c33d51315aa650a" class="toggle"  />
    <label for="section-afd4803a46f291255c33d51315aa650a" class="flex justify-between">
      <a role="button" class="">Linux API 揭秘</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_api/linux-api-%E6%8F%AD%E7%A7%98module_init%E4%B8%8Emodule_exit/" class="">【Linux API 揭秘】module_init与module_exit</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_api/linux-api-%E6%8F%AD%E7%A7%98container_of%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/" class="">【Linux API 揭秘】container_of函数详解</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b7fd81501e53bad4f93d9ee3c27b0e9c" class="toggle"  />
    <label for="section-b7fd81501e53bad4f93d9ee3c27b0e9c" class="flex justify-between">
      <a role="button" class="">Linux 调试工具</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_debug/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82linux%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7devmem/" class="">【一文秒懂】Linux内核调试工具——devmem</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_debug/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82ftrace%E7%B3%BB%E7%BB%9F%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8%E7%BB%88%E6%9E%81%E6%8C%87%E5%8D%97/" class="">【一文秒懂】Ftrace系统调试工具使用终极指南</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_debug/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82top%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/" class="">【一文秒懂】TOP命令详解</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_debug/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82linux%E5%86%85%E6%A0%B8%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7debugfs/" class="">【一文秒懂】Linux内核调试工具——Debugfs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_debug/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82linux%E7%BD%91%E7%BB%9C%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7iperf/" class="">【一文秒懂】Linux网络性能测试工具——Iperf</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_debug/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82linux%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7gdb%E4%BB%8B%E7%BB%8D/" class="">【一文秒懂】Linux调试工具——GDB介绍</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_debug/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82linux%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7gdbserver/" class="">【一文秒懂】Linux远程调试工具——gdbserver</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_debug/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82linux%E5%86%85%E6%A0%B8%E6%AD%BB%E9%94%81%E6%A3%80%E6%B5%8B/" class="">【一文秒懂】Linux内核死锁检测</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_debug/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90core-dump%E6%96%87%E4%BB%B6/" class="">【一文秒懂】如何生成core Dump文件</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_debug/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82linux%E4%B9%8Bcore-dump%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/" class="">【一文秒懂】Linux之Core Dump文件详解</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_debug/%E4%B8%80%E6%96%87%E7%A7%92%E6%87%82linux%E5%86%85%E6%A0%B8%E6%80%81%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2%E6%A3%80%E6%B5%8B%E5%B7%A5%E5%85%B7/" class="">【一文秒懂】Linux内核态内存泄露检测工具</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8563e19d06998e6920b649c7704304c2" class="toggle"  />
    <label for="section-8563e19d06998e6920b649c7704304c2" class="flex justify-between">
      <a role="button" class="">Linux 内存管理</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_memory_manage/%E4%B8%80%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E7%9A%84%E7%94%B1%E6%9D%A5%E5%8F%8A%E6%80%9D%E6%83%B3/" class="">一、内存管理的由来及思想</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_memory_manage/%E4%BA%8C%E8%99%9A%E6%8B%9F%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4%E5%B8%83%E5%B1%80/" class="">二、虚拟地址空间布局</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_memory_manage/%E4%B8%89%E8%99%9A%E6%8B%9F%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86/" class="">三、虚拟地址空间管理</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_memory_manage/%E5%9B%9B%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%9E%8B/" class="">四、物理地址空间设计模型</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_memory_manage/%E4%BA%94%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4%E5%B8%83%E5%B1%80%E5%8F%8A%E7%AE%A1%E7%90%86/" class="">五、物理内存空间布局及管理</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_memory_manage/%E5%85%AD%E7%89%A9%E7%90%86%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E4%BC%99%E4%BC%B4%E7%B3%BB%E7%BB%9F/" class="">六、物理内存分配——伙伴系统</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f435ee78d552247e6379477cd2bbc0e2" class="toggle"  />
    <label for="section-f435ee78d552247e6379477cd2bbc0e2" class="flex justify-between">
      <a role="button" class="">Linux 内核锁详解</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_kernel_lock/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3linux%E9%94%81%E6%9C%BA%E5%88%B6%E4%B8%80%E5%86%85%E6%A0%B8%E9%94%81%E7%9A%84%E7%94%B1%E6%9D%A5/" class="">【深入理解Linux锁机制】一、内核锁的由来</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_kernel_lock/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3linux%E9%94%81%E6%9C%BA%E5%88%B6%E4%BA%8C%E4%B8%AD%E6%96%AD%E5%B1%8F%E8%94%BD/" class="">【深入理解Linux锁机制】二、中断屏蔽</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_kernel_lock/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3linux%E9%94%81%E6%9C%BA%E5%88%B6%E4%B8%89%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C/" class="">【深入理解Linux锁机制】三、原子操作</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_kernel_lock/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3linux%E9%94%81%E6%9C%BA%E5%88%B6%E5%9B%9B%E8%87%AA%E6%97%8B%E9%94%81/" class="">【深入理解Linux锁机制】四、自旋锁</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_kernel_lock/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3linux%E9%94%81%E6%9C%BA%E5%88%B6%E4%BA%94%E8%A1%8D%E7%94%9F%E8%87%AA%E6%97%8B%E9%94%81/" class="">【深入理解Linux锁机制】五、衍生自旋锁</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_kernel_lock/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3linux%E9%94%81%E6%9C%BA%E5%88%B6%E5%85%AD%E4%BF%A1%E5%8F%B7%E9%87%8F/" class="">【深入理解Linux锁机制】六、信号量</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_kernel_lock/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3linux%E9%94%81%E6%9C%BA%E5%88%B6%E4%B8%83%E4%BA%92%E6%96%A5%E4%BD%93/" class="">【深入理解Linux锁机制】七、互斥体</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_kernel_lock/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3linux%E9%94%81%E6%9C%BA%E5%88%B6%E5%85%AB%E5%AE%8C%E6%88%90%E9%87%8F/" class="">【深入理解Linux锁机制】八、完成量</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8fdb7e7c5e97c6cab0cd075b850b2ab6" class="toggle"  />
    <label for="section-8fdb7e7c5e97c6cab0cd075b850b2ab6" class="flex justify-between">
      <a role="button" class="">Linux NVMEM 子系统</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_nvmem_subsystem/nvmem%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90%E4%B8%80efuse%E4%BB%8B%E7%BB%8D%E5%8F%8A%E5%AE%89%E5%85%A8%E5%90%AF%E5%8A%A8%E6%B5%85%E6%9E%90/" class="">【NVMEM子系统深入剖析】一、Efuse介绍及安全启动浅析</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_nvmem_subsystem/nvmem%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90%E4%BA%8Cnvmem%E9%A9%B1%E5%8A%A8%E6%A1%86%E6%9E%B6/" class="">【NVMEM子系统深入剖析】二、NVMEM驱动框架</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_nvmem_subsystem/nvmem%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90%E4%B8%89%E6%A0%B8%E5%BF%83%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E5%86%85%E5%9C%A8%E5%85%B3%E8%81%94/" class="">【NVMEM子系统深入剖析】三、核心数据结构及内在关联</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_nvmem_subsystem/nvmem%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90%E5%9B%9Befuse%E9%A9%B1%E5%8A%A8%E5%AE%9E%E7%8E%B0%E6%B5%81%E7%A8%8B/" class="">【NVMEM子系统深入剖析】四、efuse驱动实现流程</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-55cd856914d3869f8de37a44fe2c2d31" class="toggle"  />
    <label for="section-55cd856914d3869f8de37a44fe2c2d31" class="flex justify-between">
      <a role="button" class="">Linux LED子系统</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E4%B8%80linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E6%96%B0%E6%89%8B%E5%BF%85%E8%AF%BB/" class="">【LED子系统深度剖析】一、开篇词|Linux驱动开发新手必读</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E4%BA%8Cled%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%A1%86%E6%9E%B6%E5%88%86%E6%9E%90/" class="">【LED子系统深度剖析】二、LED子系统框架分析</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E4%B8%89%E7%A1%AC%E4%BB%B6%E9%A9%B1%E5%8A%A8%E5%B1%82%E8%AF%A6%E8%A7%A3/" class="">【LED子系统深度剖析】三、硬件驱动层详解</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E5%9B%9B%E6%A0%B8%E5%BF%83%E5%B1%82%E8%AF%A6%E8%A7%A3%E4%B8%80/" class="">【LED子系统深度剖析】四、核心层详解（一）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E4%BA%94%E6%A0%B8%E5%BF%83%E5%B1%82%E8%AF%A6%E8%A7%A3%E4%BA%8C/" class="">【LED子系统深度剖析】五、核心层详解（二）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E5%85%AD%E6%A0%B8%E5%BF%83%E5%B1%82%E8%AF%A6%E8%A7%A3%E4%B8%89/" class="">【LED子系统深度剖析】六、核心层详解（三）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E4%B8%83%E8%A7%A6%E5%8F%91%E5%99%A8%E5%AE%9E%E7%8E%B0/" class="">【LED子系统深度剖析】七、触发器实现</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E5%85%AB%E5%B0%8F%E8%AF%95%E7%89%9B%E5%88%80/" class="">【LED子系统深度剖析】八、小试牛刀</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E4%B9%9D%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AF%A6%E8%A7%A3%E7%95%AA%E5%A4%96%E7%AF%87/" class="">【LED子系统深度剖析】九、数据结构详解（番外篇）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E5%8D%81%E8%AF%A6%E7%BB%86%E5%AE%9E%E7%8E%B0%E6%B5%81%E7%A8%8B%E7%95%AA%E5%A4%96%E7%AF%87/" class="">【LED子系统深度剖析】十、详细实现流程（番外篇）</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e02acc82bb9269fdf5f35403746673a7" class="toggle"  />
    <label for="section-e02acc82bb9269fdf5f35403746673a7" class="flex justify-between">
      <a role="button" class="">Linux MMC 子系统</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_mmc_subsystem/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F%E4%B8%80mmc_sd_sdio%E4%BB%8B%E7%BB%8D/" class="">【MMC子系统】一、MMC_SD_SDIO介绍</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_mmc_subsystem/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F%E4%BA%8Cemmc%E5%8D%8F%E8%AE%AE/" class="">【MMC子系统】二、EMMC协议</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_mmc_subsystem/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F%E4%B8%89mmc%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%A1%86%E6%9E%B6/" class="">【MMC子系统】三、MMC子系统框架</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_mmc_subsystem/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%9B%9Bmmc%E6%8E%A7%E5%88%B6%E5%99%A8%E9%A9%B1%E5%8A%A8%E5%B1%82/" class="">【MMC子系统】四、MMC控制器驱动层</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_mmc_subsystem/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F%E4%BA%94mmc%E6%A0%B8%E5%BF%83%E5%B1%82/" class="">【MMC子系统】五、MMC核心层</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/linux_mmc_subsystem/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%85%ADmmc%E5%9D%97%E8%AE%BE%E5%A4%87%E5%B1%82/" class="">【MMC子系统】六、MMC块设备层</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-361f4c4127000ab1d21e7e0cdf1aa513" class="toggle"  />
    <label for="section-361f4c4127000ab1d21e7e0cdf1aa513" class="flex justify-between">
      <a role="button" class="">Bluetooth蓝牙开发详解</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/bluetooth/bluetooth%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E4%B8%80%E6%89%93%E9%80%A0%E5%85%A8%E7%BD%91%E6%9C%80%E8%AF%A6%E7%BB%86%E7%9A%84bluetooth%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/" class="">【Bluetooth蓝牙开发】一、打造全网最详细的Bluetooth开发教程</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/bluetooth/bluetooth%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E4%BA%8C%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/" class="">【Bluetooth蓝牙开发】二、蓝牙开发入门</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/bluetooth/bluetooth%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E4%B8%89%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E5%B8%A6%E4%BD%A0%E6%80%BB%E8%A7%88%E8%93%9D%E7%89%99%E5%8D%8F%E8%AE%AE/" class="">【Bluetooth蓝牙开发】三、一篇文章，带你总览蓝牙协议</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/bluetooth/bluetooth%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E5%9B%9Bble%E5%8D%8F%E8%AE%AE%E4%B9%8B%E7%89%A9%E7%90%86%E5%B1%82%E6%B5%85%E6%9E%90/" class="">【Bluetooth蓝牙开发】四、BLE协议之物理层浅析</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/bluetooth/bluetooth%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E4%BA%94ble%E5%8D%8F%E8%AE%AE%E4%B9%8B%E9%93%BE%E8%B7%AF%E5%B1%82/" class="">【Bluetooth蓝牙开发】五、BLE协议之链路层</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/bluetooth/bluetooth%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E5%85%ADble%E5%8D%8F%E8%AE%AE%E4%B9%8B%E4%BC%A0%E8%BE%93%E5%B1%82/" class="">【Bluetooth蓝牙开发】六、BLE协议之传输层</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/bluetooth/bluetooth%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E4%B8%83ble%E5%8D%8F%E8%AE%AE%E4%B9%8Bl2cap/" class="">【Bluetooth蓝牙开发】七、BLE协议之L2CAP</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/bluetooth/bluetooth%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E5%85%ABble%E5%8D%8F%E8%AE%AE%E4%B9%8Batt/" class="">【Bluetooth蓝牙开发】八、BLE协议之ATT</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/bluetooth/bluetooth%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E4%B9%9Dble%E5%8D%8F%E8%AE%AEgatt/" class="">【Bluetooth蓝牙开发】九、BLE协议——GATT</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/bluetooth/bluetooth%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E5%8D%81ble%E8%93%9D%E7%89%99%E9%80%9A%E4%BF%A1%E6%B5%81%E7%A8%8B%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E5%B9%BF%E6%92%AD%E6%89%AB%E6%8F%8F%E6%96%AD%E5%BC%80%E8%BF%9E%E6%8E%A5/" class="">【Bluetooth蓝牙开发】十、BLE蓝牙通信流程（建立连接，广播，扫描，断开连接）</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/bluetooth/bluetooth%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E5%8D%81%E4%B8%80%E8%B6%85%E8%AF%A6%E7%BB%86%E7%9A%84bluez%E4%BA%A4%E5%8F%89%E7%BC%96%E8%AF%91/" class="">【Bluetooth蓝牙开发】十一、超详细的Bluez交叉编译</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/bluetooth/bluetooth%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E5%8D%81%E4%BA%8C%E8%93%9D%E7%89%99%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7%E9%9B%86%E5%90%88%E6%B1%87%E6%80%BB/" class="">【Bluetooth蓝牙开发】十二、蓝牙调试工具【集合汇总】</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-213e548a5ed64c190d6cd532c8786974" class="toggle"  />
    <label for="section-213e548a5ed64c190d6cd532c8786974" class="flex justify-between">
      <a role="button" class="">WiFi开发详解</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/wifi/wifi%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%B1%87%E6%80%BB/" class="">WIFI基础知识汇总</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/wifi/%E4%B8%80%E6%96%87%E8%AF%A6%E8%A7%A3%E8%B7%AF%E7%94%B1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF/" class="">一文详解路由器配置信息</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/Yocreative.github.io/docs/linux/wifi/wifi%E6%97%A0%E7%BC%9D%E6%BC%AB%E6%B8%B8%E8%AF%A6%E8%A7%A3/" class="">WiFi无缝漫游详解</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/Yocreative.github.io/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Linux驱动开发</strong>

  <label for="toc-control">
    
    <img src="/Yocreative.github.io/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav>
  <ul>
  
    
    <li class="book-section-flat">
      <strong>Categories</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/categories/tech/">Tech</a>
          <span>73</span>
        </li>
      
      </ul>
    </li>
    
  
    
    <li class="book-section-flat">
      <strong>Tags</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/tag1/">Tag1</a>
          <span>7</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/tag2/">Tag2</a>
          <span>7</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/wifi%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">WIFI基础知识</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/wifi%E5%BC%80%E5%8F%91%E8%AF%A6%E8%A7%A3/">WiFi开发详解</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/wifi%E6%8A%80%E6%9C%AF/">WIFI技术</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86/">无线网络知识</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/iperf/">Iperf</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/iperf%E5%B7%A5%E5%85%B7/">Iperf工具</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E7%BD%91%E7%BB%9C%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/">Linux网络性能测试工具</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/">Linux驱动开发基础</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/typedef/">Typedef</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E8%AE%BE%E5%A4%87%E6%A0%91%E8%AF%A6%E8%A7%A3/">Linux设备树详解</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E5%AD%97%E7%AC%A6%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8/">Linux字符设备驱动</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/">Linux调试工具</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">Linux驱动开发</a>
          <span>16</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/mmc/sd/sdio/">MMC/SD/SDIO</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F/">MMC子系统</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/bluetooth%E5%BC%80%E5%8F%91/">Bluetooth开发</a>
          <span>12</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/bluetooth%E5%BC%80%E5%8F%91%E8%AF%A6%E8%A7%A3/">Bluetooth开发详解</a>
          <span>12</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/">蓝牙开发教程</a>
          <span>12</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F/">LED子系统</a>
          <span>10</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90/">LED子系统深度剖析</a>
          <span>10</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/led%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">LED驱动开发</a>
          <span>10</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/-linux-%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91/"> Linux 系统开发</a>
          <span>8</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux-%E5%86%85%E6%A0%B8/">Linux 内核</a>
          <span>8</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux-%E9%94%81%E6%9C%BA%E5%88%B6/">Linux 锁机制</a>
          <span>8</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E5%86%85%E6%A0%B8%E9%94%81/">内核锁</a>
          <span>8</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/">操作系统锁</a>
          <span>8</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/efuse/">Efuse</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/nvmem%E5%AD%90%E7%B3%BB%E7%BB%9F/">NVMEM子系统</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/nvmem%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90/">NVMEM子系统深入剖析</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E5%AE%89%E5%85%A8%E5%90%AF%E5%8A%A8/">安全启动</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E9%9D%A2%E8%AF%95%E6%8C%87%E5%8D%97/">Linux面试指南</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/uboot%E5%BC%80%E5%8F%91%E8%AF%A6%E8%A7%A3/">Uboot开发详解</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">Linux内存管理</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux-api-%E6%8F%AD%E7%A7%98/">Linux API 揭秘</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8Flinux/">嵌入式Linux</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%9F%BA%E7%A1%80%E5%BF%85%E5%A4%87%E7%9F%A5%E8%AF%86/">嵌入式基础必备知识</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/embeded-technology/">Embeded Technology</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/">嵌入式学习路线</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%85%BB%E6%88%90%E8%AE%B0/">嵌入式工程师养成记</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  
  <article class="markdown book-post">
    <h2>
      <a href="/Yocreative.github.io/docs/linux/linux_mmc_subsystem/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F%E4%B8%80mmc_sd_sdio%E4%BB%8B%E7%BB%8D/">【MMC子系统】一、MMC_SD_SDIO介绍</a>
    </h2>
    
  <h5>Jan 19, 2024</h5>



<span id="busuanzi_container_page_pv">本文阅读量<span id="busuanzi_value_page_pv"></span>次</span>


  
  <div>
    
      <a href="/Yocreative.github.io/categories/tech/">Tech</a>
  </div>
  

  
  <div>
    
      <a href="/Yocreative.github.io/tags/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F/">MMC子系统</a>, 
      <a href="/Yocreative.github.io/tags/mmc/sd/sdio/">MMC/SD/SDIO</a>, 
      <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">Linux驱动开发</a>
  </div>
  




    <p><h1 id="mmc子系统-一mmcsdsdio介绍">
  【MMC子系统】 一、MMC/SD/SDIO介绍
  <a class="anchor" href="#mmc%e5%ad%90%e7%b3%bb%e7%bb%9f-%e4%b8%80mmcsdsdio%e4%bb%8b%e7%bb%8d">#</a>
</h1>
<h2 id="1前言">
  1、前言
  <a class="anchor" href="#1%e5%89%8d%e8%a8%80">#</a>
</h2>
<p>该节学习<code>Linux Kernel</code>的<code>MMC</code>子系统，也称为块设备驱动，正如其名，与字符驱动相比，<code>MMC</code>子系统以块为单位进行操作。</p>
<p>同时，由于<code>MMC Card</code>、<code>SD Card</code>、<code>SDIO Card</code>等设备协议基本大同小异，所以在<code>Linux Kernel</code>中使用<code>MMC</code>子系统来统一管理！</p>
<p> </p>
<h2 id="2mmcsdsdio介绍">
  2、MMC/SD/SDIO介绍
  <a class="anchor" href="#2mmcsdsdio%e4%bb%8b%e7%bb%8d">#</a>
</h2>
<p>上面我们了解到，<code>Linux Kernel</code>使用统一的子系统模型来管理<code>MMC</code>、<code>SD</code>、<code>SDIO</code>等设备，那么为什么要这样设计呢？</p>

<blockquote class='book-hint '>
  <p>答案当然是：三者协议有一定的共通性。</p>
</blockquote><p> </p>
<p><code>MMC（MultiMediaCard）</code>多媒体卡设备，从本质上看，<strong>它是一种用于固态非易失性存储的内存卡（memory card）规范，定义了诸如卡的形态、尺寸、容量、电气信号、和主机之间的通信协议等方方面面的内容。</strong></p>
<p>1997年，<code>MMC</code>规范正式发布，至今已经进化出了<code>SD</code>、<code>MicroSD</code>、<code>SDIO</code>、<code>EMMC</code>等多种不同的规范，虽然眼花缭乱，但是追其根源，都源于<code>MMC</code>规范，所以<code>Linux Kernel</code>可以将其统一管理！</p>
<p><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/95d6d6a51a757c21cdc3108e12d16d0320161225135202.gif" alt="mmc_sd_sdio_history" /></p>

<blockquote class='book-hint '>
  <p><code>MMC</code>：强调的是多媒体存储（MM：MultiMedia）</p>
<p><code>SD</code>：强调的是安全数据（SD：Secure Digital）</p>
<p><code>SDIO</code>：强调的是IO接口(IO：Input/Output)</p>
</blockquote><p> </p>

<blockquote class='book-hint '>
  <p>更多干货可见：<a href="https://t.zsxq.com/0eUcTOhdO">高级工程师聚集地</a>，助力大家更上一层楼！</p>
</blockquote><p> </p>
<h2 id="3总线接口">
  3、总线接口
  <a class="anchor" href="#3%e6%80%bb%e7%ba%bf%e6%8e%a5%e5%8f%a3">#</a>
</h2>
<p><code>MMC</code>、<code>SD</code>、<code>SDIO</code>其物理接口也十分相似，我们以<code>MMC</code>为例进行分析。</p>
<p><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/4ca87abb20c96c2362ed22855c0fb89a20161225135205.gif" alt="Card Concept(eMMC)" /></p>
<p>我们的<code>MMC</code>卡如上图所示，内部我们不展开分析，直接将其作为一个完整的设备来分析。</p>
<p>其通过<code>CLK</code>、<code>CMD</code>、<code>DATA</code>等管脚与我们的<code>SOC</code>通信，两者之间当然少不了<code>Controller</code>了。</p>
<p><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/fbcc70f4593e41a6f96a28c4667a9c3420161225135203.gif" alt="mmc_sd_sdio_hw_block" /></p>
<p><strong>把通信总线部分，拿出来看</strong>：</p>
<p><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/image-20240103073934443.png" alt="image-20240103073934443" /></p>

<blockquote class='book-hint '>
  <p><code>CLK</code>：提供<code>SOC</code>和设备之间的通信时钟，常用的通信频率为<code>400KHz</code>（识卡）、<code>25MHz</code>，<code>50MHz</code></p>
<p><code>CMD</code>：提供<code>SOC</code>和设备之间的通信命令，标识不同的命令编号，类型多达50多种。</p>
<p><code>DATA</code>：提供<code>SOC</code>和设备之间的数据通信，其通信总线有8根，可自定义设置，一般默认的是1-bit (默认)模式、4-bit模式和8-bit模式。当然数据线越多，传输越快嘛，但是处理起来也稍微繁琐。</p>
<p>除了上面的一些管脚，当然还少不了<code>VCC</code>、<code>GND</code>等管脚喽，与其它外设不同的是，<code>MMC</code>类的设备，还会有一个检测引脚<code>DET</code>，用于检测是否存在卡设备（热插拔）。</p>
</blockquote><p> </p>
<p><strong>好啦，上面我们对<code>MMC</code>、<code>SD</code>、<code>SDIO</code>进行简单了解，也知道了通信的常用方式与物理接口，当然其最核心在于通信的协议啦！由于协议过于复杂，我们放到后面了解。</strong></p>
<p> </p>
<h2 id="4参考文章">
  4、参考文章
  <a class="anchor" href="#4%e5%8f%82%e8%80%83%e6%96%87%e7%ab%a0">#</a>
</h2>
<p>[1]：<a href="http://www.wowotech.net/basic_tech/mmc_sd_sdio_intro.html">http://www.wowotech.net/basic_tech/mmc_sd_sdio_intro.html</a></p>
<p> </p>
<center><b> <font color ="blue">欢迎关注【嵌入式艺术】，董哥原创！</font></b></center>
<div align=center><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/blog.png" alt="img" width = "60%" height ="10%"/>
</div></p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E4%B8%80linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E6%96%B0%E6%89%8B%E5%BF%85%E8%AF%BB/">【LED子系统深度剖析】一、开篇词|Linux驱动开发新手必读</a>
    </h2>
    
  <h5>Jan 19, 2024</h5>



<span id="busuanzi_container_page_pv">本文阅读量<span id="busuanzi_value_page_pv"></span>次</span>


  
  <div>
    
      <a href="/Yocreative.github.io/categories/tech/">Tech</a>
  </div>
  

  
  <div>
    
      <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F/">LED子系统</a>, 
      <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90/">LED子系统深度剖析</a>, 
      <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">Linux驱动开发</a>, 
      <a href="/Yocreative.github.io/tags/led%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">LED驱动开发</a>
  </div>
  




    <p><h1 id="led子系统深度剖析一开篇词linux驱动开发新手必读">
  【LED子系统深度剖析】一、开篇词|Linux驱动开发新手必读
  <a class="anchor" href="#led%e5%ad%90%e7%b3%bb%e7%bb%9f%e6%b7%b1%e5%ba%a6%e5%89%96%e6%9e%90%e4%b8%80%e5%bc%80%e7%af%87%e8%af%8dlinux%e9%a9%b1%e5%8a%a8%e5%bc%80%e5%8f%91%e6%96%b0%e6%89%8b%e5%bf%85%e8%af%bb">#</a>
</h1>
<h2 id="1前言">
  1、前言
  <a class="anchor" href="#1%e5%89%8d%e8%a8%80">#</a>
</h2>
<p>大家好，我是董哥！</p>
<p><span style="color: red;"><strong>俗话说：“万丈高楼平地起”，对于我们刚学习<code>Linux驱动开发</code>的小伙伴，<code>Linux驱动开发</code>的基础至关重要，无论我们是学习<code>51单片机</code>、<code>STM32</code>还是<code>ARM</code>，点灯的地位还是毋庸置疑的</strong>。</span></p>
<p>在<code>Linux</code>驱动开发的学习过程中，点灯对于大多数人来说，对着教程照葫芦画瓢，还是能快速点亮一颗<code>LED</code>灯的，但是你真的明白，一颗小小<code>LED</code>灯的背后，到底执行了哪些动作吗，<code>Linux</code>内核是如何管理的呢？</p>
<p>今天，作为在芯片原厂工作的我，有义务带着大家，深入扒一扒<code>LED子系统</code>的工作原理！</p>

<blockquote class='book-hint '>
  <p><span style="color: red;"><strong>总结系列文章，花费时间较长，希望大家尊重原创！</strong></span></p>
</blockquote><h2 id="2led子系统开发详细介绍">
  2、LED子系统开发详细介绍
  <a class="anchor" href="#2led%e5%ad%90%e7%b3%bb%e7%bb%9f%e5%bc%80%e5%8f%91%e8%af%a6%e7%bb%86%e4%bb%8b%e7%bb%8d">#</a>
</h2>
<p><strong>该系列文章整体预览如下</strong>：</p>
<p><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/image-20230510203433338.png" alt="image-20230510203433338" /></p>
<h2 id="3led子系统开发文章汇总">
  3、LED子系统开发文章汇总
  <a class="anchor" href="#3led%e5%ad%90%e7%b3%bb%e7%bb%9f%e5%bc%80%e5%8f%91%e6%96%87%e7%ab%a0%e6%b1%87%e6%80%bb">#</a>
</h2>
<p><span style="color: red;"><strong>为了方便大家快速找到文章，这里按照学习流程进行汇总，点击即可访问！</strong></span></p>
<table>
  <thead>
      <tr>
          <th>章节</th>
          <th>内容</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>1、开篇词</td>
          <td>1. 文章总览</td>
      </tr>
      <tr>
          <td><a href="https://donger.blog.csdn.net/article/details/129829082">2、LED子系统框架分析</a></td>
          <td>2.1 裸机处理</td>
      </tr>
      <tr>
          <td></td>
          <td>2.2 LED子系统框架</td>
      </tr>
      <tr>
          <td></td>
          <td>2.3 目录结构及核心文件</td>
      </tr>
      <tr>
          <td><a href="https://donger.blog.csdn.net/article/details/130313894">3、硬件驱动层详解</a></td>
          <td>3.1 gpio_led_probe分析</td>
      </tr>
      <tr>
          <td></td>
          <td>3.2 gpio_leds_create分析</td>
      </tr>
      <tr>
          <td></td>
          <td>3.3 create_gpio_led分析</td>
      </tr>
      <tr>
          <td></td>
          <td>3.4 数据结构之间的关系，以及实现流程</td>
      </tr>
      <tr>
          <td><a href="https://donger.blog.csdn.net/article/details/130614003">4、核心层——led-class.c详解</a></td>
          <td>4.1 leds_init分析</td>
      </tr>
      <tr>
          <td></td>
          <td>4.2 leds_class_dev_pm_ops分析</td>
      </tr>
      <tr>
          <td></td>
          <td>4.3 led_groups分析</td>
      </tr>
      <tr>
          <td></td>
          <td>4.4 led class的注册注销分析</td>
      </tr>
      <tr>
          <td><a href="https://donger.blog.csdn.net/article/details/130676685">5、核心层——led-core.c详解</a></td>
          <td>5.1 led_init_core分析</td>
      </tr>
      <tr>
          <td></td>
          <td>5.2 led_timer_function分析</td>
      </tr>
      <tr>
          <td></td>
          <td>5.3 set_brightness_delayed分析</td>
      </tr>
      <tr>
          <td></td>
          <td>5.4 代码实现流程分析</td>
      </tr>
      <tr>
          <td><a href="https://donger.blog.csdn.net/article/details/130758864">6、核心层——led-triggers.c详解</a></td>
          <td>6.1 触发器设置相关函数分析</td>
      </tr>
      <tr>
          <td></td>
          <td>6.2 触发器注册注销函数分析</td>
      </tr>
      <tr>
          <td></td>
          <td>6.3 闪烁功能相关函数分析</td>
      </tr>
      <tr>
          <td></td>
          <td>6.4 调用流程分析</td>
      </tr>
      <tr>
          <td><a href="https://donger.blog.csdn.net/article/details/130819157">7、触发器的实现</a></td>
          <td>7.1 触发器介绍</td>
      </tr>
      <tr>
          <td></td>
          <td>7.2 heartbeat触发器的注册注销流程</td>
      </tr>
      <tr>
          <td></td>
          <td>7.3 heartbeat触发器相关定义和实现</td>
      </tr>
      <tr>
          <td><a href="https://donger.blog.csdn.net/article/details/130895232">8、LED子系统——小试牛刀</a></td>
          <td>8.1 硬件管脚确定</td>
      </tr>
      <tr>
          <td></td>
          <td>8.2 设备树配置</td>
      </tr>
      <tr>
          <td></td>
          <td>8.3 子系统配置</td>
      </tr>
      <tr>
          <td></td>
          <td>8.4 编译烧录</td>
      </tr>
      <tr>
          <td></td>
          <td>8.5 验证</td>
      </tr>
      <tr>
          <td><a href="https://donger.blog.csdn.net/article/details/130920920">9、数据结构详解（番外篇）</a></td>
          <td>9.1 核心数据结构图</td>
      </tr>
      <tr>
          <td><a href="https://donger.blog.csdn.net/article/details/130942729">10、详细实现流程汇总（番外篇）</a></td>
          <td>10.1 LED驱动匹配</td>
      </tr>
      <tr>
          <td></td>
          <td>10.2 读写流程详解</td>
      </tr>
  </tbody>
</table>
<h2 id="4结语">
  4、结语
  <a class="anchor" href="#4%e7%bb%93%e8%af%ad">#</a>
</h2>
<p><span style="color: red;"><strong>以上，为<code>LED</code>子系统深入探究的所有文章，每一篇都是精心打磨的文章，以此奉给那些刚开始学习<code>Linux</code>驱动开发的入门者，同时也期待大家多多关注，支持！</strong></span></p></p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/Yocreative.github.io/docs/linux/linux_mmc_subsystem/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F%E4%BA%8Cemmc%E5%8D%8F%E8%AE%AE/">【MMC子系统】二、EMMC协议</a>
    </h2>
    
  <h5>Jan 19, 2024</h5>



<span id="busuanzi_container_page_pv">本文阅读量<span id="busuanzi_value_page_pv"></span>次</span>


  
  <div>
    
      <a href="/Yocreative.github.io/categories/tech/">Tech</a>
  </div>
  

  
  <div>
    
      <a href="/Yocreative.github.io/tags/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F/">MMC子系统</a>, 
      <a href="/Yocreative.github.io/tags/mmc/sd/sdio/">MMC/SD/SDIO</a>, 
      <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">Linux驱动开发</a>
  </div>
  




    <p><h1 id="mmc子系统-二emmc协议">
  【MMC子系统】 二、EMMC协议
  <a class="anchor" href="#mmc%e5%ad%90%e7%b3%bb%e7%bb%9f-%e4%ba%8cemmc%e5%8d%8f%e8%ae%ae">#</a>
</h1>
<h2 id="1前言">
  1、前言
  <a class="anchor" href="#1%e5%89%8d%e8%a8%80">#</a>
</h2>
<p>在上一节，我们知道<code>EMMC</code>、<code>SD</code>、<code>SDIO</code>三种规范都是在<code>MMC</code>规范之上发展而来，协议相差不大，所以<code>Linux Kernel</code>才能使用<code>MMC</code>子系统来统一管理！</p>
<p>下面，我们以<code>MMC</code>协议为例，来了解一下相关协议!</p>
<p> </p>
<h2 id="2emmc基本了解">
  2、EMMC基本了解
  <a class="anchor" href="#2emmc%e5%9f%ba%e6%9c%ac%e4%ba%86%e8%a7%a3">#</a>
</h2>
<h3 id="21-物理线路">
  2.1 物理线路
  <a class="anchor" href="#21-%e7%89%a9%e7%90%86%e7%ba%bf%e8%b7%af">#</a>
</h3>
<p><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/202210312033341.gif" alt="Card Concept(eMMC)" /></p>
<p><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/image-20231025163714473.png" alt="image-20231025163714473" /></p>
<table>
  <thead>
      <tr>
          <th>物理接口</th>
          <th>接口含义</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>CLK</td>
          <td>时钟线，此信号的每一周期控制<strong>命令线</strong>上的 1 bit 传输，以及所有<strong>数据线</strong>上 1 bit（1x） 或 2 bit（2x）传输。</td>
      </tr>
      <tr>
          <td>CMD</td>
          <td>命令线，此信号是双向命令通道，用于设备初始化和命令传输。CMD信号有两种工 作模式：用于初始化模式<strong>开漏模式</strong>和快速命令传输<strong>推拉模式</strong>。</td>
      </tr>
      <tr>
          <td>DAT0-7</td>
          <td>这些是双向的数据通道。DAT 信号以<strong>推拉模式</strong>工作。缺省状态，只有DAT0处于推拉模式，DAT1-7处于上拉（内含上拉），进入4bit后，DAT0-3处于推拉</td>
      </tr>
  </tbody>
</table>
<p> </p>
<h3 id="22-emmc相关寄存器了解">
  2.2 EMMC相关寄存器了解
  <a class="anchor" href="#22-emmc%e7%9b%b8%e5%85%b3%e5%af%84%e5%ad%98%e5%99%a8%e4%ba%86%e8%a7%a3">#</a>
</h3>
<p><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/202210312033046.png" alt="image-20220215111031546" /></p>
<p> </p>
<h3 id="23-其他特性了解">
  2.3 其他特性了解
  <a class="anchor" href="#23-%e5%85%b6%e4%bb%96%e7%89%b9%e6%80%a7%e4%ba%86%e8%a7%a3">#</a>
</h3>
<ul>
<li>
<p><strong>读写模式</strong>：单块读写，多块读写</p>
</li>
<li>
<p><strong>寻址方式</strong>：字节寻址和扇区寻址，字节寻址允许最大2GB，容量超过2GB的，使用扇区（512B）寻址</p>
</li>
<li>
<p><strong>电压模式</strong>：支持高电压和双电压模式</p>
</li>
<li>
<p><strong>支持增强分区模式等</strong></p>
</li>
</ul>
<p> </p>
<h2 id="3总线协议">
  3、总线协议
  <a class="anchor" href="#3%e6%80%bb%e7%ba%bf%e5%8d%8f%e8%ae%ae">#</a>
</h2>
<h3 id="31-基础了解">
  3.1 基础了解
  <a class="anchor" href="#31-%e5%9f%ba%e7%a1%80%e4%ba%86%e8%a7%a3">#</a>
</h3>
<ul>
<li><strong>命令</strong>：启动一种操作的Token，命令从主机发往设备，在CMD线路上串行传输。</li>
<li><strong>应答</strong>：从设备发往主机作为对上一命令的回答的Token，在CMD线路上串行传输。</li>
<li><strong>数据</strong>：在主从机之间双向传输，总线宽度可以是1-bit（缺省）、4-bit 和 8-bit</li>
</ul>
<p> </p>
<h3 id="32-命令格式">
  3.2 命令格式
  <a class="anchor" href="#32-%e5%91%bd%e4%bb%a4%e6%a0%bc%e5%bc%8f">#</a>
</h3>
<p><img src="https://img-blog.csdnimg.cn/img_convert/e4f540b09494fc3b1f185ab8d34d09a1.png" alt="image-20220215112109330" /></p></p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E4%BA%8Cled%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%A1%86%E6%9E%B6%E5%88%86%E6%9E%90/">【LED子系统深度剖析】二、LED子系统框架分析</a>
    </h2>
    
  <h5>Jan 19, 2024</h5>



<span id="busuanzi_container_page_pv">本文阅读量<span id="busuanzi_value_page_pv"></span>次</span>


  
  <div>
    
      <a href="/Yocreative.github.io/categories/tech/">Tech</a>
  </div>
  

  
  <div>
    
      <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F/">LED子系统</a>, 
      <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90/">LED子系统深度剖析</a>, 
      <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">Linux驱动开发</a>, 
      <a href="/Yocreative.github.io/tags/led%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">LED驱动开发</a>
  </div>
  




    <p><h1 id="led子系统深度剖析二led子系统框架分析">
  【LED子系统深度剖析】二、LED子系统框架分析
  <a class="anchor" href="#led%e5%ad%90%e7%b3%bb%e7%bb%9f%e6%b7%b1%e5%ba%a6%e5%89%96%e6%9e%90%e4%ba%8cled%e5%ad%90%e7%b3%bb%e7%bb%9f%e6%a1%86%e6%9e%b6%e5%88%86%e6%9e%90">#</a>
</h1>
<h2 id="1前言">
  1、前言
  <a class="anchor" href="#1%e5%89%8d%e8%a8%80">#</a>
</h2>
<p>我们学习嵌入式，无论是<code>C51</code>、<code>STM32</code>或者是<code>ARM</code>，都是从点灯开始的，点灯在嵌入式中的地位等同于<code>Hello World</code>在各大语言中的地位！</p>
<p>虽然<code>LED</code>功能简单，但是其<strong>麻雀虽小，五脏俱全</strong>，在学习<code>Linux驱动开发</code>的过程中，学习<code>LED</code>子系统，往往也能够起到<strong>牵一发而动全身</strong>的作用，也更有益于大家熟悉驱动开发的框架！</p>
<h2 id="2led裸机处理">
  2、LED裸机处理
  <a class="anchor" href="#2led%e8%a3%b8%e6%9c%ba%e5%a4%84%e7%90%86">#</a>
</h2>
<p>我们在学习<code>Linux驱动框架</code>的时候，第一步要做的就是去掉子系统的面纱，先弄明白裸机处理的流程！</p>
<p><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/image-20230328063034205.png" alt="image-20230328063034205" /></p>
<p>有嵌入式经验的朋友，对<code>LED</code>的裸机在清楚不过了，上面是<code>LED</code>的硬件电路，通常一端接到<code>VCC</code>，一端接到<code>GPIO</code>，当<code>GPIO</code>拉低时，<code>LED</code>亮；当<code>GPIO</code>拉高时，<code>LED</code>灭。</p>
<p>在这里裸机我们不过多了解了，目的在于窥探<code>LED子系统</code>。</p>
<h2 id="3led子系统框架">
  3、LED子系统框架
  <a class="anchor" href="#3led%e5%ad%90%e7%b3%bb%e7%bb%9f%e6%a1%86%e6%9e%b6">#</a>
</h2>
<p>框架是什么？</p>
<p>框架是一个规范，为我们开发者增加限制的同时，也是为了更好的开发新的程序，新的功能，其目的主要是：<strong>将不变的成分剥离开来，固化进框架，让开发者做最少的事情!</strong></p>
<p><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/image-20230417084033734.png" alt="image-20230417084033734" /></p>
<p>框架所处的位置，正如上图所示，由下往上看：</p>
<ul>
<li><strong>Hardware</strong>：我们的硬件设备，指的是<code>LED</code></li>
<li><strong>硬件驱动层</strong>：是直接操作硬件的实现，用于驱动硬件，实现相应的功能，并且将硬件设备注册进框架之中。</li>
<li><strong>核心层</strong>：将<code>LED</code>进行统一管理，提供注册，注销，管理<code>LED</code>等相关接口，起到呈上启下的作用，方便上层调用。</li>
<li><strong>用户层</strong>：用户通过<code>sysfs</code>文件系统中对应的文件节点，能够直接控制<code>LED</code>的亮灭。</li>
</ul>
<h2 id="4led子系统目录结构及核心文件">
  4、LED子系统目录结构及核心文件
  <a class="anchor" href="#4led%e5%ad%90%e7%b3%bb%e7%bb%9f%e7%9b%ae%e5%bd%95%e7%bb%93%e6%9e%84%e5%8f%8a%e6%a0%b8%e5%bf%83%e6%96%87%e4%bb%b6">#</a>
</h2>
<p>了解完<code>LED</code>子系统框架之后，我们来分析一下其相关的目录结构！</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ketnel
</span></span><span style="display:flex;"><span>│   └── driver
</span></span><span style="display:flex;"><span>│   │   └── leds
</span></span><span style="display:flex;"><span>│   │   │   ├──	Makefile
</span></span><span style="display:flex;"><span>│   │   │   ├──	led-core.c
</span></span><span style="display:flex;"><span>│   │   │   ├──	led-gpio.c
</span></span><span style="display:flex;"><span>│   │   │   ├──	led-class.c
</span></span><span style="display:flex;"><span>│   │   │   ├──	led-triggers.c
</span></span><span style="display:flex;"><span>│   │   │   ├──	......
</span></span><span style="display:flex;"><span>│   │   │   └── trigger
</span></span><span style="display:flex;"><span>│   │   │   │   ├── ledtrig-cpu.c
</span></span><span style="display:flex;"><span>│   │   │   │   ├── ledtrig-heartbeat.c
</span></span><span style="display:flex;"><span>│   │   │   │   ├── .......
</span></span></code></pre></div><p>上面即为<code>LED</code>子系统的目录结构，其主要核心文件有：</p></p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/Yocreative.github.io/docs/linux/linux_mmc_subsystem/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F%E4%B8%89mmc%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%A1%86%E6%9E%B6/">【MMC子系统】三、MMC子系统框架</a>
    </h2>
    
  <h5>Jan 19, 2024</h5>



<span id="busuanzi_container_page_pv">本文阅读量<span id="busuanzi_value_page_pv"></span>次</span>


  
  <div>
    
      <a href="/Yocreative.github.io/categories/tech/">Tech</a>
  </div>
  

  
  <div>
    
      <a href="/Yocreative.github.io/tags/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F/">MMC子系统</a>, 
      <a href="/Yocreative.github.io/tags/mmc/sd/sdio/">MMC/SD/SDIO</a>, 
      <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">Linux驱动开发</a>
  </div>
  




    <p><h1 id="mmc子系统三mmc子系统框架">
  【MMC子系统】三、MMC子系统框架
  <a class="anchor" href="#mmc%e5%ad%90%e7%b3%bb%e7%bb%9f%e4%b8%89mmc%e5%ad%90%e7%b3%bb%e7%bb%9f%e6%a1%86%e6%9e%b6">#</a>
</h1>
<p>上章，我们简单了解了<code>EMMC</code>协议，感兴趣的可以查阅一下<code>SD</code>和<code>SDIO</code>的协议，之所以<code>Linux</code>内核能够对<code>SD</code>、<code>SDIO</code>、<code>EMMC</code>进行统一管理，根本原因就是三者协议上的相似性，我们该系列文章均以<code>EMMC</code>为剑，一层层划开包裹着的盔甲。</p>

<blockquote class='book-hint '>
  <p>本系列文章，均以<code>Linux 4.19</code>为参考</p>
</blockquote><p> </p>
<h2 id="1mmc子系统框架">
  1、MMC子系统框架
  <a class="anchor" href="#1mmc%e5%ad%90%e7%b3%bb%e7%bb%9f%e6%a1%86%e6%9e%b6">#</a>
</h2>
<p><img src="https://hughesxu.github.io/assets/img/sample/mmc_subsystem.svg" alt="MMC Subsystem" /></p>
<p>如上图所示，<code>MMC</code>子系统的整体框架包括：<code>MMC Host</code>、<code>MMC Core</code>、<code>MMC Block</code>。我们从下网上看：</p>
<ul>
<li><code>MMC HOST</code>：即<code>MMC</code>控制器驱动层，正如其名，该层主要是为了实现<code>MMC</code>控制器的初始化，以及<code>MMC</code>底层的数据收发操作，其直接控制的是底层寄存器，用以产生相应的通信时序。</li>
<li><code>MMC CORE</code>：即<code>MMC</code>核心层，该层主要起到了承上启下的作用。对下，主要体现在注册<code>MMC</code>总线，实现对<code>MMC device</code>和<code>MMC driver</code>的统一管理；对上，体现在实现<code>MMC</code>通信协议，并向上提供相应的读写操作接口。</li>
<li><code>MMC BLOCK</code>：即<code>MMC</code>块设备驱动层，其主要作用是屏蔽底层的实现逻辑，将底层抽象为卡设备，并且与虚拟文件系统关联，负责块设备请求的处理以及请求队列的管理，又称为<code>card</code>卡驱动。</li>
</ul>

<blockquote class='book-hint '>
  <p>哈哈，简单吧，我们刚开始对<code>MMC</code>子系统框架就先了解这么多，不着急，慢慢来。</p>
</blockquote><p> </p>
<h2 id="2mmc子系统文件结构">
  2、MMC子系统文件结构
  <a class="anchor" href="#2mmc%e5%ad%90%e7%b3%bb%e7%bb%9f%e6%96%87%e4%bb%b6%e7%bb%93%e6%9e%84">#</a>
</h2>
<p>了解完<code>MMC</code>子系统后，我们看一下<code>MMC</code>驱动在<code>Linux</code>下的目录结构，我们进入到<code>drivers/mmc</code>目录</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>drivers/mmc/
</span></span><span style="display:flex;"><span>	├── core
</span></span><span style="display:flex;"><span>		├── block.c
</span></span><span style="display:flex;"><span>		├── bus.c
</span></span><span style="display:flex;"><span>		├── core.c
</span></span><span style="display:flex;"><span>		├── mmc.c
</span></span><span style="display:flex;"><span>		├── mmc_ops.c
</span></span><span style="display:flex;"><span>		├── ......
</span></span><span style="display:flex;"><span>	├── host
</span></span><span style="display:flex;"><span>		├── sunxi-mmc.c
</span></span><span style="display:flex;"><span>		├── ......
</span></span></code></pre></div>
<blockquote class='book-hint '>
  <p><strong>这里介绍一个方法</strong></p>
</blockquote><p>如果刚接触的朋友，不知道文件之间的关系是怎么样的，可以通过<code>Makefile</code>和<code>Kconfig</code>文件来大致看一下。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-makefile" data-lang="makefile"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">obj-$(CONFIG_MMC)</span>		<span style="color:#ff79c6">+=</span> mmc_core.o
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">mmc_core-y</span>			<span style="color:#ff79c6">:=</span> core.o bus.o host.o <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>				   mmc.o mmc_ops.o sd.o sd_ops.o <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>				   sdio.o sdio_ops.o sdio_bus.o <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>				   sdio_cis.o sdio_io.o sdio_irq.o <span style="color:#f1fa8c">\
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>				   slot-gpio.o
</span></span></code></pre></div><p>由上面可知，<code>MMC CORE</code>核心层，包括的文件有：<code>core.c</code>、<code>bus.c</code>等等，</p></p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E4%B8%89%E7%A1%AC%E4%BB%B6%E9%A9%B1%E5%8A%A8%E5%B1%82%E8%AF%A6%E8%A7%A3/">【LED子系统深度剖析】三、硬件驱动层详解</a>
    </h2>
    
  <h5>Jan 19, 2024</h5>



<span id="busuanzi_container_page_pv">本文阅读量<span id="busuanzi_value_page_pv"></span>次</span>


  
  <div>
    
      <a href="/Yocreative.github.io/categories/tech/">Tech</a>
  </div>
  

  
  <div>
    
      <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F/">LED子系统</a>, 
      <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90/">LED子系统深度剖析</a>, 
      <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">Linux驱动开发</a>, 
      <a href="/Yocreative.github.io/tags/led%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">LED驱动开发</a>
  </div>
  




    <p><h1 id="led子系统深度剖析三硬件驱动层详解">
  【LED子系统深度剖析】三、硬件驱动层详解
  <a class="anchor" href="#led%e5%ad%90%e7%b3%bb%e7%bb%9f%e6%b7%b1%e5%ba%a6%e5%89%96%e6%9e%90%e4%b8%89%e7%a1%ac%e4%bb%b6%e9%a9%b1%e5%8a%a8%e5%b1%82%e8%af%a6%e8%a7%a3">#</a>
</h1>

<blockquote class='book-hint '>
  <p>上篇文章我们了解了子系统的框架，下面我们来分析驱动框架中每层的实现以及作用。</p>
</blockquote><p><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/image-20230417084033734.png" alt="image-20230417084033734" /></p>
<p>在<code>LED</code>子系统中，硬件驱动层相关文件在包括：<code>kernel/drivers/leds/</code> 目录下，其主要的函数有：<code>led-gpio.c</code>、<code>led-xxx.c</code>，其中<code>led-gpio.c</code>为通用的平台驱动程序，<code>led-xxx.c</code>为不同厂家提供的平台驱动程序。</p>

<blockquote class='book-hint '>
  <p>我们在这里主要分析<code>led-gpio.c</code></p>
</blockquote><h2 id="1gpio_led_probe分析">
  1、gpio_led_probe分析
  <a class="anchor" href="#1gpio_led_probe%e5%88%86%e6%9e%90">#</a>
</h2>
<p>打开该文件，直接找到加载驱动的入口函数<code>gpio_led_probe</code></p>
<h3 id="11-相关数据结构">
  1.1 相关数据结构
  <a class="anchor" href="#11-%e7%9b%b8%e5%85%b3%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84">#</a>
</h3>
<h4 id="111-gpio_led_platform_data">
  1.1.1 gpio_led_platform_data
  <a class="anchor" href="#111-gpio_led_platform_data">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#ff79c6">struct</span> gpio_led_platform_data {
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">int</span> 		num_leds;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">const</span> <span style="color:#ff79c6">struct</span> gpio_led <span style="color:#ff79c6">*</span>leds;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">#define GPIO_LED_NO_BLINK_LOW	0	</span><span style="color:#6272a4">/* No blink GPIO state low */</span><span style="color:#ff79c6">
</span></span></span><span style="display:flex;"><span><span style="color:#ff79c6">#define GPIO_LED_NO_BLINK_HIGH	1	</span><span style="color:#6272a4">/* No blink GPIO state high */</span><span style="color:#ff79c6">
</span></span></span><span style="display:flex;"><span><span style="color:#ff79c6">#define GPIO_LED_BLINK		2	</span><span style="color:#6272a4">/* Please, blink */</span><span style="color:#ff79c6">
</span></span></span><span style="display:flex;"><span><span style="color:#ff79c6"></span>    <span style="color:#8be9fd">gpio_blink_set_t</span>	gpio_blink_set;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p><strong>结构体名称</strong>：<code>gpio_led_platform_data</code></p>
<p><strong>文件位置</strong>：<code>include/linux/leds.h</code></p>
<p><strong>主要作用</strong>：<code>LED</code>的平台数据，用于对<code>LED</code>硬件设备的统一管理</p>

<blockquote class='book-hint '>
  <p>这个结构体用于父节点向子节点传递的数据时使用</p>
</blockquote><h4 id="112-gpio_leds_priv">
  1.1.2 gpio_leds_priv
  <a class="anchor" href="#112-gpio_leds_priv">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#ff79c6">struct</span> gpio_leds_priv {
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">int</span> num_leds;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">struct</span> gpio_led_data leds[];
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p><strong>结构体名称</strong>：<code>gpio_leds_priv</code></p></p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/Yocreative.github.io/docs/linux/linux_mmc_subsystem/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F%E5%9B%9Bmmc%E6%8E%A7%E5%88%B6%E5%99%A8%E9%A9%B1%E5%8A%A8%E5%B1%82/">【MMC子系统】四、MMC控制器驱动层</a>
    </h2>
    
  <h5>Jan 19, 2024</h5>



<span id="busuanzi_container_page_pv">本文阅读量<span id="busuanzi_value_page_pv"></span>次</span>


  
  <div>
    
      <a href="/Yocreative.github.io/categories/tech/">Tech</a>
  </div>
  

  
  <div>
    
      <a href="/Yocreative.github.io/tags/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F/">MMC子系统</a>, 
      <a href="/Yocreative.github.io/tags/mmc/sd/sdio/">MMC/SD/SDIO</a>, 
      <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">Linux驱动开发</a>
  </div>
  




    <p><h1 id="mmc子系统四mmc控制器驱动层">
  【MMC子系统】四、MMC控制器驱动层
  <a class="anchor" href="#mmc%e5%ad%90%e7%b3%bb%e7%bb%9f%e5%9b%9bmmc%e6%8e%a7%e5%88%b6%e5%99%a8%e9%a9%b1%e5%8a%a8%e5%b1%82">#</a>
</h1>
<p><code>MMC</code>控制器驱动层一般为<code>chip manufacturer</code>做的事，不同的芯片实现方式不尽相同。</p>

<blockquote class='book-hint '>
  <p><code>Linux</code>内核源码，相当大的一部分都是由<code>Device Drivers</code>程序代码组成，其次另一大部分就是那些你从来都没有听说过的<code>Filesystem Format</code>组成，真正核心的代码非常短小精悍的。</p>
</blockquote><p>当然，设备驱动程序也有一套既定的框架，按照框架来编写，实现对应的接口就可以了，在这里，我们主要分析一下<code>MMC</code>控制器驱动的实现框架，不拘泥于细节。</p>

<blockquote class='book-hint '>
  <p>下文以<code>sunxi-mmc.c</code>为例来分析，基于<code>Linux4.19</code></p>
</blockquote><p> </p>
<h2 id="41-通用驱动框架">
  4.1 通用驱动框架
  <a class="anchor" href="#41-%e9%80%9a%e7%94%a8%e9%a9%b1%e5%8a%a8%e6%a1%86%e6%9e%b6">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#ff79c6">static</span> <span style="color:#8be9fd">int</span> <span style="color:#50fa7b">sunxi_mmc_probe</span>(<span style="color:#ff79c6">struct</span> platform_device <span style="color:#ff79c6">*</span>pdev) {
</span></span><span style="display:flex;"><span>    .....
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">static</span> <span style="color:#ff79c6">const</span> <span style="color:#ff79c6">struct</span> of_device_id sunxi_mmc_of_match[] <span style="color:#ff79c6">=</span> {
</span></span><span style="display:flex;"><span>    { .compatible <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;allwinner,sun4i-a10-mmc&#34;</span>, .data <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">&amp;</span>sun4i_a10_cfg },
</span></span><span style="display:flex;"><span>    { .compatible <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;allwinner,sun5i-a13-mmc&#34;</span>, .data <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">&amp;</span>sun5i_a13_cfg },
</span></span><span style="display:flex;"><span>    { .compatible <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;allwinner,sun7i-a20-mmc&#34;</span>, .data <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">&amp;</span>sun7i_a20_cfg },
</span></span><span style="display:flex;"><span>    { .compatible <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;allwinner,sun8i-a83t-emmc&#34;</span>, .data <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">&amp;</span>sun8i_a83t_emmc_cfg },
</span></span><span style="display:flex;"><span>    { .compatible <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;allwinner,sun9i-a80-mmc&#34;</span>, .data <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">&amp;</span>sun9i_a80_cfg },
</span></span><span style="display:flex;"><span>    { .compatible <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;allwinner,sun50i-a64-mmc&#34;</span>, .data <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">&amp;</span>sun50i_a64_cfg },
</span></span><span style="display:flex;"><span>    { .compatible <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;allwinner,sun50i-a64-emmc&#34;</span>, .data <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">&amp;</span>sun50i_a64_emmc_cfg },
</span></span><span style="display:flex;"><span>    { <span style="color:#6272a4">/* sentinel */</span> }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MODULE_DEVICE_TABLE</span>(of, sunxi_mmc_of_match);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">static</span> <span style="color:#ff79c6">const</span> <span style="color:#ff79c6">struct</span> dev_pm_ops sunxi_mmc_pm_ops <span style="color:#ff79c6">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#50fa7b">SET_RUNTIME_PM_OPS</span>(sunxi_mmc_runtime_suspend,
</span></span><span style="display:flex;"><span>               sunxi_mmc_runtime_resume,
</span></span><span style="display:flex;"><span>               <span style="color:#8be9fd;font-style:italic">NULL</span>)
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">static</span> <span style="color:#ff79c6">struct</span> platform_driver sunxi_mmc_driver <span style="color:#ff79c6">=</span> {
</span></span><span style="display:flex;"><span>    .driver <span style="color:#ff79c6">=</span> {
</span></span><span style="display:flex;"><span>        .name	<span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;sunxi-mmc&#34;</span>,
</span></span><span style="display:flex;"><span>        .of_match_table <span style="color:#ff79c6">=</span> <span style="color:#50fa7b">of_match_ptr</span>(sunxi_mmc_of_match),
</span></span><span style="display:flex;"><span>        .pm <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">&amp;</span>sunxi_mmc_pm_ops,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    .probe		<span style="color:#ff79c6">=</span> sunxi_mmc_probe,
</span></span><span style="display:flex;"><span>    .remove		<span style="color:#ff79c6">=</span> sunxi_mmc_remove,
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">module_platform_driver</span>(sunxi_mmc_driver);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MODULE_DESCRIPTION</span>(<span style="color:#f1fa8c">&#34;Allwinner&#39;s SD/MMC Card Controller Driver&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MODULE_LICENSE</span>(<span style="color:#f1fa8c">&#34;GPL v2&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MODULE_AUTHOR</span>(<span style="color:#f1fa8c">&#34;David Lanzendörfer &lt;david.lanzendoerfer@o2s.ch&gt;&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MODULE_ALIAS</span>(<span style="color:#f1fa8c">&#34;platform:sunxi-mmc&#34;</span>);
</span></span></code></pre></div><p>这套基本的框架，老生常谈，其主要功能就是：按照<code>of_match_table</code>匹配表，来实现<code>platform_device</code>和<code>platform_driver</code>的匹配，然后执行<code>probe</code>函数。</p></p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E5%9B%9B%E6%A0%B8%E5%BF%83%E5%B1%82%E8%AF%A6%E8%A7%A3%E4%B8%80/">【LED子系统深度剖析】四、核心层详解（一）</a>
    </h2>
    
  <h5>Jan 19, 2024</h5>



<span id="busuanzi_container_page_pv">本文阅读量<span id="busuanzi_value_page_pv"></span>次</span>


  
  <div>
    
      <a href="/Yocreative.github.io/categories/tech/">Tech</a>
  </div>
  

  
  <div>
    
      <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F/">LED子系统</a>, 
      <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90/">LED子系统深度剖析</a>, 
      <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">Linux驱动开发</a>, 
      <a href="/Yocreative.github.io/tags/led%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">LED驱动开发</a>
  </div>
  




    <p><h1 id="led子系统深度剖析四核心层详解一">
  【LED子系统深度剖析】四、核心层详解（一）
  <a class="anchor" href="#led%e5%ad%90%e7%b3%bb%e7%bb%9f%e6%b7%b1%e5%ba%a6%e5%89%96%e6%9e%90%e5%9b%9b%e6%a0%b8%e5%bf%83%e5%b1%82%e8%af%a6%e8%a7%a3%e4%b8%80">#</a>
</h1>
<h2 id="1前言">
  1、前言
  <a class="anchor" href="#1%e5%89%8d%e8%a8%80">#</a>
</h2>

<blockquote class='book-hint '>
  <p>上篇文章我们了解了子系统的硬件驱动层，下面我们来分析驱动框架中核心层的实现以及作用。</p>
</blockquote><p><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/image-20230417084033734.png" alt="image-20230417084033734" /></p>
<p>在<code>LED</code>子系统框架中，核心层包括几个部分：核心层的实现部分（<code>led-core.c</code>）、<code>sysfs</code>文件节点创建（<code>led-class.c</code>）、触发功能实现(<code>led-triggers.c</code>、<code>driver/leds/triggers/led-xxx.c</code>)</p>

<blockquote class='book-hint '>
  <p>其中，触发功能部分较为独立，我们暂且先不去分析。</p>
</blockquote><p><span style="color: red;"><strong>我们先从<code>led-class.c</code>文件开始分析</strong></span></p>
<h2 id="2leds_init分析">
  2、leds_init分析
  <a class="anchor" href="#2leds_init%e5%88%86%e6%9e%90">#</a>
</h2>

<blockquote class='book-hint '>
  <p>该函数其主要是为了创建<code>LED</code>设备文件节点，方便用户通过节点直接访问。</p>
</blockquote><p>该文件，我们直接拉下底部，我们直接看入口函数：<code>leds_init</code></p>
<h3 id="21-相关数据结构">
  2.1 相关数据结构
  <a class="anchor" href="#21-%e7%9b%b8%e5%85%b3%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84">#</a>
</h3>
<h4 id="211-class">
  2.1.1 class
  <a class="anchor" href="#211-class">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#6272a4">/**
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * struct class - device classes
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @name:	Name of the class.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @owner:	The module owner.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @class_groups: Default attributes of this class.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @dev_groups:	Default attributes of the devices that belong to the class.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @dev_kobj:	The kobject that represents this class and links it into the hierarchy.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @dev_uevent:	Called when a device is added, removed from this class, or a
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> *		few other things that generate uevents to add the environment
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> *		variables.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @devnode:	Callback to provide the devtmpfs.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @class_release: Called to release this class.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @dev_release: Called to release the device.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @shutdown_pre: Called at shut-down time before driver shutdown.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @ns_type:	Callbacks so sysfs can detemine namespaces.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @namespace:	Namespace of the device belongs to this class.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @get_ownership: Allows class to specify uid/gid of the sysfs directories
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> *		for the devices belonging to the class. Usually tied to
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> *		device&#39;s namespace.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @pm:		The default device power management operations of this class.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * @p:		The private data of the driver core, no one other than the
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> *		driver core can touch this.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> *
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * A class is a higher-level view of a device that abstracts out low-level
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * implementation details. Drivers may see a SCSI disk or an ATA disk, but,
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * at the class level, they are all simply disks. Classes allow user space
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * to work with devices based on what they do, rather than how they are
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> * connected or how they work.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">struct</span> class {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">const</span> <span style="color:#8be9fd">char</span>		<span style="color:#ff79c6">*</span>name;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">struct</span> module		<span style="color:#ff79c6">*</span>owner;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">const</span> <span style="color:#ff79c6">struct</span> attribute_group	<span style="color:#ff79c6">**</span>class_groups;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">const</span> <span style="color:#ff79c6">struct</span> attribute_group	<span style="color:#ff79c6">**</span>dev_groups;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">struct</span> kobject			<span style="color:#ff79c6">*</span>dev_kobj;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">int</span> (<span style="color:#ff79c6">*</span>dev_uevent)(<span style="color:#ff79c6">struct</span> device <span style="color:#ff79c6">*</span>dev, <span style="color:#ff79c6">struct</span> kobj_uevent_env <span style="color:#ff79c6">*</span>env);
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">char</span> <span style="color:#ff79c6">*</span>(<span style="color:#ff79c6">*</span>devnode)(<span style="color:#ff79c6">struct</span> device <span style="color:#ff79c6">*</span>dev, <span style="color:#8be9fd">umode_t</span> <span style="color:#ff79c6">*</span>mode);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">void</span> (<span style="color:#ff79c6">*</span>class_release)(<span style="color:#ff79c6">struct</span> class <span style="color:#ff79c6">*</span>class);
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">void</span> (<span style="color:#ff79c6">*</span>dev_release)(<span style="color:#ff79c6">struct</span> device <span style="color:#ff79c6">*</span>dev);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">int</span> (<span style="color:#ff79c6">*</span>shutdown_pre)(<span style="color:#ff79c6">struct</span> device <span style="color:#ff79c6">*</span>dev);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">const</span> <span style="color:#ff79c6">struct</span> kobj_ns_type_operations <span style="color:#ff79c6">*</span>ns_type;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">const</span> <span style="color:#8be9fd">void</span> <span style="color:#ff79c6">*</span>(<span style="color:#ff79c6">*</span>namespace)(<span style="color:#ff79c6">struct</span> device <span style="color:#ff79c6">*</span>dev);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">void</span> (<span style="color:#ff79c6">*</span>get_ownership)(<span style="color:#ff79c6">struct</span> device <span style="color:#ff79c6">*</span>dev, <span style="color:#8be9fd">kuid_t</span> <span style="color:#ff79c6">*</span>uid, <span style="color:#8be9fd">kgid_t</span> <span style="color:#ff79c6">*</span>gid);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">const</span> <span style="color:#ff79c6">struct</span> dev_pm_ops <span style="color:#ff79c6">*</span>pm;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">struct</span> subsys_private <span style="color:#ff79c6">*</span>p;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p><strong>结构体名称</strong>：<code>class</code></p></p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/Yocreative.github.io/docs/linux/linux_mmc_subsystem/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F%E4%BA%94mmc%E6%A0%B8%E5%BF%83%E5%B1%82/">【MMC子系统】五、MMC核心层</a>
    </h2>
    
  <h5>Jan 19, 2024</h5>



<span id="busuanzi_container_page_pv">本文阅读量<span id="busuanzi_value_page_pv"></span>次</span>


  
  <div>
    
      <a href="/Yocreative.github.io/categories/tech/">Tech</a>
  </div>
  

  
  <div>
    
      <a href="/Yocreative.github.io/tags/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F/">MMC子系统</a>, 
      <a href="/Yocreative.github.io/tags/mmc/sd/sdio/">MMC/SD/SDIO</a>, 
      <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">Linux驱动开发</a>
  </div>
  




    <p><div align=center><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/202206141400958.jpeg" alt="0c70cff6aab3f2894c2bfd2c973e9620" alt="img"  width = 15% height =15%/></div>
<center><font color ="grey">我的圈子：<a href="https://t.zsxq.com/14hPUwE8z">
高级工程师聚集地</a></font></center>
<center><b> 创作理念：专注分享高质量嵌入式文章，让大家读有所得！</b></center>
<div align=center><img src="https://bdn.135editor.com/files/images/editor_styles/d1c723e7e296ca791c2fb3b39ebee0f3.jpg" alt="img" width = 70% height =10%/>
</div>
<br>
<br>
&nbsp;
亲爱的读者，你好：
<p>  感谢你对我的专栏的关注和支持，我很高兴能和你分享我的知识和经验。如果你喜欢我的内容，想要阅读更多的精彩技术文章，可以扫码加入我的社群。</p>
<p> </p>
<center><b> <font color ="blue">欢迎关注【嵌入式艺术】，董哥原创！</font></b></center>
<div align=center><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/blog.png" alt="img" width = "60%" height ="10%"/>
</div></p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/Yocreative.github.io/docs/linux/linux_led_subsystem/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90%E4%BA%94%E6%A0%B8%E5%BF%83%E5%B1%82%E8%AF%A6%E8%A7%A3%E4%BA%8C/">【LED子系统深度剖析】五、核心层详解（二）</a>
    </h2>
    
  <h5>Jan 19, 2024</h5>



<span id="busuanzi_container_page_pv">本文阅读量<span id="busuanzi_value_page_pv"></span>次</span>


  
  <div>
    
      <a href="/Yocreative.github.io/categories/tech/">Tech</a>
  </div>
  

  
  <div>
    
      <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F/">LED子系统</a>, 
      <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90/">LED子系统深度剖析</a>, 
      <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">Linux驱动开发</a>, 
      <a href="/Yocreative.github.io/tags/led%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">LED驱动开发</a>
  </div>
  




    <p><h1 id="led子系统深度剖析五核心层详解二">
  【LED子系统深度剖析】五、核心层详解（二）
  <a class="anchor" href="#led%e5%ad%90%e7%b3%bb%e7%bb%9f%e6%b7%b1%e5%ba%a6%e5%89%96%e6%9e%90%e4%ba%94%e6%a0%b8%e5%bf%83%e5%b1%82%e8%af%a6%e8%a7%a3%e4%ba%8c">#</a>
</h1>
<h2 id="1前言">
  1、前言
  <a class="anchor" href="#1%e5%89%8d%e8%a8%80">#</a>
</h2>

<blockquote class='book-hint '>
  <p>上篇文章我们了解了子系统的核心层<code>led-class.c</code>，下面我们来分析驱动框架中核心层的<code>led-core.c</code>实现以及作用。</p>
</blockquote><p><img src="https://image-1305421143.cos.ap-nanjing.myqcloud.com/image/image-20230417084033734.png" alt="image-20230417084033734" /></p>
<p><span style="color: red;"><strong>我们接着从<code>led-core.c</code>文件开始分析</strong></span></p>
<h2 id="2led_init_core分析">
  2、led_init_core分析
  <a class="anchor" href="#2led_init_core%e5%88%86%e6%9e%90">#</a>
</h2>

<blockquote class='book-hint '>
  <p>上一篇文章，我们知道在将<code>leds_classdev</code>注册进入子系统后，会调用<code>led_init_core</code>函数，初始化核心层，下面我们以<code>led_init_core</code>该函数为突破口分析。</p>
</blockquote><h3 id="21-相关数据结构">
  2.1 相关数据结构
  <a class="anchor" href="#21-%e7%9b%b8%e5%85%b3%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84">#</a>
</h3>
<h4 id="211-work_struct">
  2.1.1 work_struct
  <a class="anchor" href="#211-work_struct">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#ff79c6">struct</span> work_struct {
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">atomic_long_t</span> data;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">struct</span> list_head entry;
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">work_func_t</span> func;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">#ifdef CONFIG_LOCKDEP
</span></span></span><span style="display:flex;"><span><span style="color:#ff79c6"></span>    <span style="color:#ff79c6">struct</span> lockdep_map lockdep_map;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#ff79c6"></span>};
</span></span></code></pre></div><p><strong>结构体名称</strong>：<code>work_struct</code></p>
<p><strong>文件位置</strong>：<code>include/linux/workqueue.h.h</code></p>
<p><strong>主要作用</strong>：定义一个工作队列，包括了工作项的状态和数据，以及处理工作项的函数指针，用于实现<strong>异步执行任务的功能</strong>。在工作队列中，每个工作项都是一个<code>work_struct</code>结构体的实例，通过将工作项添加到工作队列中，可以实现后台执行任务的功能。</p>
<h4 id="212-timer_list">
  2.1.2 timer_list
  <a class="anchor" href="#212-timer_list">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#ff79c6">struct</span> timer_list {
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">/*
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">     * All fields that change during normal runtime grouped to the
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">     * same cacheline
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">struct</span> hlist_node	entry;
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">unsigned</span> <span style="color:#8be9fd">long</span>		expires;
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd">void</span>			(<span style="color:#ff79c6">*</span>function)(<span style="color:#ff79c6">struct</span> timer_list <span style="color:#ff79c6">*</span>);
</span></span><span style="display:flex;"><span>    u32			flags;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">#ifdef CONFIG_LOCKDEP
</span></span></span><span style="display:flex;"><span><span style="color:#ff79c6"></span>    <span style="color:#ff79c6">struct</span> lockdep_map	lockdep_map;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#ff79c6"></span>};
</span></span></code></pre></div><p><strong>结构体名称</strong>：<code>work_struct</code></p></p>
  </article>
  

  
    <ul class="pagination pagination-default">
      <li class="page-item disabled">
        <a aria-disabled="true" aria-label="First" class="page-link" role="button" tabindex="-1"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item disabled">
        <a aria-disabled="true" aria-label="Previous" class="page-link" role="button" tabindex="-1"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item">
        <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/page/2/" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item">
        <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/page/2/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/page/2/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>


<div class="busuanzi-footer">
  <span id="busuanzi_container_site_pv">
    👁️Total Views <span id="busuanzi_value_site_pv"></span> |
  </span>
  <span id="busuanzi_container_site_uv" >
    👤Visitors <span id="busuanzi_value_site_uv"></span>
  </span>
</div>

  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  <nav>
  <ul>
  
    
    <li class="book-section-flat">
      <strong>Categories</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/categories/tech/">Tech</a>
          <span>73</span>
        </li>
      
      </ul>
    </li>
    
  
    
    <li class="book-section-flat">
      <strong>Tags</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/tag1/">Tag1</a>
          <span>7</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/tag2/">Tag2</a>
          <span>7</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/wifi%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">WIFI基础知识</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/wifi%E5%BC%80%E5%8F%91%E8%AF%A6%E8%A7%A3/">WiFi开发详解</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/wifi%E6%8A%80%E6%9C%AF/">WIFI技术</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86/">无线网络知识</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/iperf/">Iperf</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/iperf%E5%B7%A5%E5%85%B7/">Iperf工具</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E7%BD%91%E7%BB%9C%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/">Linux网络性能测试工具</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/">Linux驱动开发基础</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/typedef/">Typedef</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E8%AE%BE%E5%A4%87%E6%A0%91%E8%AF%A6%E8%A7%A3/">Linux设备树详解</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E5%AD%97%E7%AC%A6%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8/">Linux字符设备驱动</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/">Linux调试工具</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">Linux驱动开发</a>
          <span>16</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/mmc/sd/sdio/">MMC/SD/SDIO</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/mmc%E5%AD%90%E7%B3%BB%E7%BB%9F/">MMC子系统</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/bluetooth%E5%BC%80%E5%8F%91/">Bluetooth开发</a>
          <span>12</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/bluetooth%E5%BC%80%E5%8F%91%E8%AF%A6%E8%A7%A3/">Bluetooth开发详解</a>
          <span>12</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E8%93%9D%E7%89%99%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/">蓝牙开发教程</a>
          <span>12</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F/">LED子系统</a>
          <span>10</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/led%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E5%89%96%E6%9E%90/">LED子系统深度剖析</a>
          <span>10</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/led%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/">LED驱动开发</a>
          <span>10</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/-linux-%E7%B3%BB%E7%BB%9F%E5%BC%80%E5%8F%91/"> Linux 系统开发</a>
          <span>8</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux-%E5%86%85%E6%A0%B8/">Linux 内核</a>
          <span>8</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux-%E9%94%81%E6%9C%BA%E5%88%B6/">Linux 锁机制</a>
          <span>8</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E5%86%85%E6%A0%B8%E9%94%81/">内核锁</a>
          <span>8</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%94%81/">操作系统锁</a>
          <span>8</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/efuse/">Efuse</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/nvmem%E5%AD%90%E7%B3%BB%E7%BB%9F/">NVMEM子系统</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/nvmem%E5%AD%90%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90/">NVMEM子系统深入剖析</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E5%AE%89%E5%85%A8%E5%90%AF%E5%8A%A8/">安全启动</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E9%9D%A2%E8%AF%95%E6%8C%87%E5%8D%97/">Linux面试指南</a>
          <span>3</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/uboot%E5%BC%80%E5%8F%91%E8%AF%A6%E8%A7%A3/">Uboot开发详解</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">Linux内存管理</a>
          <span>6</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/linux-api-%E6%8F%AD%E7%A7%98/">Linux API 揭秘</a>
          <span>2</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8Flinux/">嵌入式Linux</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%9F%BA%E7%A1%80%E5%BF%85%E5%A4%87%E7%9F%A5%E8%AF%86/">嵌入式基础必备知识</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/embeded-technology/">Embeded Technology</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/">嵌入式学习路线</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Yocreative.github.io/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%85%BB%E6%88%90%E8%AE%B0/">嵌入式工程师养成记</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
  </ul>
</nav>

 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












